<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Coffee</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<h1 th:text="'Edit ' + ${coffee.name}"></h1>

<div class="form-container">
    <form th:action="@{/update}" method="post" th:object="${coffee}">
        <input type="hidden" th:field="*{id}"/>

        <!-- Coffee Name -->
        <div>
            <label for="name">Coffee Name</label>
            <input type="text" id="name" th:field="*{name}" required th:classappend="${#fields.hasErrors('name')} ? 'error' : ''"/>
            <p class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        </div>

        <!-- Type -->
        <div>
            <label for="type">Type</label>
            <select id="type" th:field="*{type}">
                <option th:each="type : ${types}" th:value="${type}" th:text="${type}"></option>
            </select>
            <p class="error" th:if="${#fields.hasErrors('type')}" th:errors="*{type}"></p>
        </div>

        <!-- Size -->
        <div>
            <label for="size">Choose Size:</label>
            <select id="size" th:field="*{size}">
                <option th:each="size : ${sizes}" th:value="${size}" th:text="${size}"></option>
            </select>
        </div>

        <!-- Price -->
        <div>
            <label for="price">Price</label>
            <input type="number" id="price" step="0.01" th:field="*{price}" placeholder="Price"/>
        </div>

        <!-- Roast Level -->
        <div>
            <label for="roastLevel">Roast Level</label>
            <select id="roastLevel" th:field="*{roastLevel}">
                <option th:each="roastLevel : ${roastLevels}" th:value="${roastLevel}" th:text="${roastLevel}"></option>
            </select>
        </div>

        <!-- Origin -->
        <div>
            <label for="origin">Origin</label>
            <input type="text" id="origin" th:field="*{origin}" placeholder="Origin"/>
        </div>

        <!-- Decaf (dropdown) -->
        <div>
            <label for="decaf">Decaf</label>
            <select id="decaf" th:field="*{decaf}">
                <option value="true" th:selected="${coffee.decaf}">Yes</option>
                <option value="false" th:selected="${!coffee.decaf}">No</option>
            </select>
        </div>

        <!-- Stock -->
        <div>
            <label for="stock">Stock</label>
            <input type="number" id="stock" th:field="*{stock}" placeholder="Stock"/>
        </div>

        <!-- Flavor Notes (checkboxes) -->
        <div>
            <label>Flavor Notes</label>
            <input type="checkbox" th:field="*{flavorNotes}" value="Chocolate"/> Chocolate
            <input type="checkbox" th:field="*{flavorNotes}" value="Mint"/> Mint
            <input type="checkbox" th:field="*{flavorNotes}" value="Strawberry"/> Strawberry
            <input type="checkbox" th:field="*{flavorNotes}" value="Orange"/> Orange
            <input type="checkbox" th:field="*{flavorNotes}" value="Blueberry"/> Blueberry
            <input type="checkbox" th:field="*{flavorNotes}" value="Pineapple"/> Pineapple
        </div>

        <!-- Brew Method -->
        <div>
            <label for="brewMethod">Brew Method</label>
            <select id="brewMethod" th:field="*{brewMethod}">
                <option th:each="method : ${brewMethods}" th:value="${method}" th:text="${method}"></option>
            </select>
        </div>

        <!-- Submit -->
        <div class="action">
            <a th:href="@{/}" class="button cancel">Cancel</a>
            <button type="submit">Update Coffee</button>
            <a href="/">Back to List</a>
        </div>
    </form>
</div>
</body>
</html>
